<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AssertionRegistry.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Ring of Automation Assertion Library</a> &gt; <a href="index.source.html" class="el_package">io.cyborgcode.roa.validator.registry</a> &gt; <span class="el_source">AssertionRegistry.java</span></div><h1>AssertionRegistry.java</h1><pre class="source lang-java linenums">package io.cyborgcode.roa.validator.registry;

import io.cyborgcode.roa.validator.core.AssertionType;
import io.cyborgcode.roa.validator.core.AssertionTypes;
import io.cyborgcode.roa.validator.functions.AssertionFunctions;
import java.util.Map;
import java.util.Objects;
import java.util.concurrent.ConcurrentHashMap;
import java.util.function.BiPredicate;

/**
 * Manages the registry of assertion types and their corresponding validation functions.
 *
 * &lt;p&gt;This class provides a centralized mechanism for storing and retrieving validation logic
 * for different assertion types. It supports both built-in and custom assertion types.
 *
 * &lt;p&gt;Default assertions include equality checks, string operations, numeric comparisons,
 * and collection-based validations.
 *
 * @author Cyborg Code Syndicate üíçüë®üíª
 */
public final class AssertionRegistry {

   private AssertionRegistry() {
   }

<span class="fc" id="L27">   private static final Map&lt;AssertionType&lt;?&gt;, BiPredicate&lt;Object, Object&gt;&gt; VALIDATORS = new ConcurrentHashMap&lt;&gt;();</span>

   static {
<span class="fc" id="L30">      VALIDATORS.put(AssertionTypes.IS, AssertionFunctions::equals);</span>
<span class="fc" id="L31">      VALIDATORS.put(AssertionTypes.NOT, AssertionFunctions::notEquals);</span>
<span class="fc" id="L32">      VALIDATORS.put(AssertionTypes.CONTAINS, AssertionFunctions::contains);</span>
<span class="fc" id="L33">      VALIDATORS.put(AssertionTypes.NOT_NULL, AssertionFunctions::notNull);</span>
<span class="fc" id="L34">      VALIDATORS.put(AssertionTypes.ALL_NOT_NULL, AssertionFunctions::allNotNull);</span>
<span class="fc" id="L35">      VALIDATORS.put(AssertionTypes.IS_NULL, AssertionFunctions::isNull);</span>
<span class="fc" id="L36">      VALIDATORS.put(AssertionTypes.ALL_NULL, AssertionFunctions::allNull);</span>
<span class="fc" id="L37">      VALIDATORS.put(AssertionTypes.GREATER_THAN, AssertionFunctions::greaterThan);</span>
<span class="fc" id="L38">      VALIDATORS.put(AssertionTypes.LESS_THAN, AssertionFunctions::lessThan);</span>
<span class="fc" id="L39">      VALIDATORS.put(AssertionTypes.CONTAINS_ALL, AssertionFunctions::containsAll);</span>
<span class="fc" id="L40">      VALIDATORS.put(AssertionTypes.CONTAINS_ANY, AssertionFunctions::containsAny);</span>
<span class="fc" id="L41">      VALIDATORS.put(AssertionTypes.STARTS_WITH, AssertionFunctions::startsWith);</span>
<span class="fc" id="L42">      VALIDATORS.put(AssertionTypes.ENDS_WITH, AssertionFunctions::endsWith);</span>
<span class="fc" id="L43">      VALIDATORS.put(AssertionTypes.LENGTH, AssertionFunctions::length);</span>
<span class="fc" id="L44">      VALIDATORS.put(AssertionTypes.MATCHES_REGEX, AssertionFunctions::matchesRegex);</span>
<span class="fc" id="L45">      VALIDATORS.put(AssertionTypes.EMPTY, AssertionFunctions::isEmpty);</span>
<span class="fc" id="L46">      VALIDATORS.put(AssertionTypes.NOT_EMPTY, AssertionFunctions::isNotEmpty);</span>
<span class="fc" id="L47">      VALIDATORS.put(AssertionTypes.BETWEEN, AssertionFunctions::between);</span>
<span class="fc" id="L48">      VALIDATORS.put(AssertionTypes.EQUALS_IGNORE_CASE, AssertionFunctions::equalsIgnoreCase);</span>
<span class="fc" id="L49">   }</span>

   /**
    * Registers a custom assertion type with its corresponding validation function.
    *
    * @param type      The custom assertion type to register.
    * @param validator The validation function that will be used to evaluate this assertion type.
    * @throws NullPointerException if {@code type} or {@code validator} is null.
    */
   public static void registerCustomAssertion(AssertionType&lt;?&gt; type, BiPredicate&lt;Object, Object&gt; validator) {
<span class="fc" id="L59">      Objects.requireNonNull(type, &quot;AssertionType must not be null&quot;);</span>
<span class="fc" id="L60">      Objects.requireNonNull(validator, &quot;Validator must not be null&quot;);</span>

<span class="fc" id="L62">      VALIDATORS.put(type, validator);</span>
<span class="fc" id="L63">   }</span>

   /**
    * Retrieves the validation function for a given assertion type.
    *
    * @param type The assertion type whose validator should be retrieved.
    * @return The validation function associated with the specified assertion type.
    * @throws NullPointerException     if {@code type} is null.
    * @throws IllegalArgumentException if no validator is registered for the given assertion type.
    */
   public static BiPredicate&lt;Object, Object&gt; getValidator(AssertionType&lt;?&gt; type) {
<span class="fc" id="L74">      Objects.requireNonNull(type, &quot;AssertionType must not be null&quot;);</span>
<span class="fc" id="L75">      BiPredicate&lt;Object, Object&gt; validator = VALIDATORS.get(type);</span>

<span class="fc bfc" id="L77" title="All 2 branches covered.">      if (validator == null) {</span>
<span class="fc" id="L78">         throw new IllegalArgumentException(&quot;No validator registered for AssertionType: &quot; + type.type().name());</span>
      }

<span class="fc" id="L81">      return validator;</span>
   }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>