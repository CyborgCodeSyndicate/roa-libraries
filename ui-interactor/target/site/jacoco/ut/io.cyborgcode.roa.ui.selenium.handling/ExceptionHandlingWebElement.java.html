<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ExceptionHandlingWebElement.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Ring of Automation UI Library</a> &gt; <a href="index.source.html" class="el_package">io.cyborgcode.roa.ui.selenium.handling</a> &gt; <span class="el_source">ExceptionHandlingWebElement.java</span></div><h1>ExceptionHandlingWebElement.java</h1><pre class="source lang-java linenums">package io.cyborgcode.roa.ui.selenium.handling;

import io.cyborgcode.roa.ui.selenium.enums.WebElementAction;
import io.cyborgcode.roa.ui.selenium.smart.SmartWebElement;
import io.cyborgcode.roa.ui.util.FourFunction;
import java.util.Collections;
import java.util.Map;
import lombok.Getter;
import org.openqa.selenium.ElementClickInterceptedException;
import org.openqa.selenium.ElementNotInteractableException;
import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.StaleElementReferenceException;
import org.openqa.selenium.WebDriver;

/**
 * Enum that defines exception handling strategies for WebElement actions.
 *
 * &lt;p&gt;Each entry in this enum represents a specific WebElement action
 * and maps known exceptions to their respective handling functions.
 *
 * @author Cyborg Code Syndicate üíçüë®üíª
 */
<span class="fc" id="L23">public enum ExceptionHandlingWebElement {</span>

   /**
    * Handles exceptions for the findElement action.
    */
<span class="fc" id="L28">   FIND_ELEMENT(&quot;findElement&quot;,</span>
<span class="fc" id="L29">         Map.of(</span>
               StaleElementReferenceException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L31">                     ExceptionHandlingWebElementFunctions.handleStaleElement(</span>
                           driver, smartWebElement, WebElementAction.FIND_ELEMENT, objects[0]),
               NoSuchElementException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L34">                     ExceptionHandlingWebElementFunctions.handleNoSuchElement(</span>
                           driver, smartWebElement, WebElementAction.FIND_ELEMENT, objects[0])
         )),

   /**
    * Handles exceptions for the findElements action.
    */
<span class="fc" id="L41">   FIND_ELEMENTS(&quot;findElements&quot;,</span>
<span class="fc" id="L42">         Map.of(</span>
               StaleElementReferenceException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L44">                     ExceptionHandlingWebElementFunctions.handleStaleElement(</span>
                           driver, smartWebElement, WebElementAction.FIND_ELEMENTS, objects[0]),
               NoSuchElementException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L47">                     ExceptionHandlingWebElementFunctions.handleNoSuchElement(</span>
                           driver, smartWebElement, WebElementAction.FIND_ELEMENTS, objects[0])
         )),

   /**
    * Handles exceptions for the click action.
    */
<span class="fc" id="L54">   CLICK(&quot;click&quot;,</span>
<span class="fc" id="L55">         Map.of(</span>
               StaleElementReferenceException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L57">                     ExceptionHandlingWebElementFunctions.handleStaleElement(</span>
                           driver, smartWebElement, WebElementAction.CLICK),
               ElementClickInterceptedException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L60">                     ExceptionHandlingWebElementFunctions.handleElementClickIntercepted(</span>
                           driver, smartWebElement, WebElementAction.CLICK, exception),
               ElementNotInteractableException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L63">                     ExceptionHandlingWebElementFunctions.handleElementNotInteractable(</span>
                           driver, smartWebElement, WebElementAction.CLICK),
               NoSuchElementException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L66">                     ExceptionHandlingWebElementFunctions.handleNoSuchElement(</span>
                           driver, smartWebElement, WebElementAction.CLICK, objects[0])
         )),

   /**
    * Handles exceptions for the sendKeys action.
    */
<span class="fc" id="L73">   SEND_KEYS(&quot;sendKeys&quot;,</span>
<span class="fc" id="L74">         Map.of(</span>
               StaleElementReferenceException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L76">                     ExceptionHandlingWebElementFunctions.handleStaleElement(</span>
                           driver, smartWebElement, WebElementAction.SEND_KEYS, objects[0]),
               ElementClickInterceptedException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L79">                     ExceptionHandlingWebElementFunctions.handleElementClickIntercepted(</span>
                           driver, smartWebElement, WebElementAction.SEND_KEYS, exception, objects[0]),
               ElementNotInteractableException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L82">                     ExceptionHandlingWebElementFunctions.handleElementNotInteractable(</span>
                           driver, smartWebElement, WebElementAction.SEND_KEYS, objects[0]),
               NoSuchElementException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L85">                     ExceptionHandlingWebElementFunctions.handleNoSuchElement(</span>
                           driver, smartWebElement, WebElementAction.SEND_KEYS, objects[0])
         )),

   /**
    * Handles exceptions for the submit action.
    */
<span class="fc" id="L92">   SUBMIT(&quot;submit&quot;,</span>
<span class="fc" id="L93">         Map.of(</span>
               StaleElementReferenceException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L95">                     ExceptionHandlingWebElementFunctions.handleStaleElement(</span>
                           driver, smartWebElement, WebElementAction.SUBMIT),
               ElementNotInteractableException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L98">                     ExceptionHandlingWebElementFunctions.handleElementNotInteractable(</span>
                           driver, smartWebElement, WebElementAction.SUBMIT),
               NoSuchElementException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L101">                     ExceptionHandlingWebElementFunctions.handleNoSuchElement(</span>
                           driver, smartWebElement, WebElementAction.SUBMIT, objects[0])
         )),

   /**
    * Handles exceptions for the clear action.
    */
<span class="fc" id="L108">   CLEAR(&quot;clear&quot;,</span>
<span class="fc" id="L109">         Map.of(</span>
               StaleElementReferenceException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L111">                     ExceptionHandlingWebElementFunctions.handleStaleElement(</span>
                           driver, smartWebElement, WebElementAction.CLEAR),
               ElementNotInteractableException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L114">                     ExceptionHandlingWebElementFunctions.handleElementNotInteractable(</span>
                           driver, smartWebElement, WebElementAction.CLEAR),
               NoSuchElementException.class, (driver, smartWebElement, exception, objects) -&gt;
<span class="fc" id="L117">                     ExceptionHandlingWebElementFunctions.handleNoSuchElement(</span>
                           driver, smartWebElement, WebElementAction.CLICK, objects[0])
         ));

   /**
    * The name of the method being handled.
    */
   @Getter
   private final String methodName;

   /**
    * A map associating exception types with their handling functions.
    */
   private final Map&lt;Class&lt;? extends Throwable&gt;, FourFunction&lt;WebDriver,
         SmartWebElement, Object[], Exception, Object&gt;&gt; exceptionHandlingMap;

   /**
    * Constructs an instance of {@code ExceptionHandlingWebElement} with the specified method name and exception
    * handling map.
    *
    * @param methodName           The name of the WebElement method.
    * @param exceptionHandlingMap The mapping of exception types to handling functions.
    */
   ExceptionHandlingWebElement(final String methodName, Map&lt;Class&lt;? extends Throwable&gt;, FourFunction&lt;WebDriver,
<span class="fc" id="L141">         SmartWebElement, Object[], Exception, Object&gt;&gt; exceptionHandlingMap) {</span>
<span class="fc" id="L142">      this.methodName = methodName;</span>
<span class="fc" id="L143">      this.exceptionHandlingMap = exceptionHandlingMap;</span>
<span class="fc" id="L144">   }</span>


   public Map&lt;Class&lt;? extends Throwable&gt;, FourFunction&lt;WebDriver, SmartWebElement, Object[], Exception,
         Object&gt;&gt; getExceptionHandlingMap() {
<span class="fc" id="L149">      return Collections.unmodifiableMap(exceptionHandlingMap);</span>
   }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>